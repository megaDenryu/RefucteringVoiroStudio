# このアプリの存在理由
chatgptの出現でボイロに意思を持たせられ、ボイロと会話できる時代が来ました。しかしゆかりネットをはじめとしたボイロソフトウェアはプラグインなどが乱立しており、何ができて何ができないのか初心者にはあまりにも難しすぎます。
またChatGptとおしゃべりしてみた系の記事はAI絵であったりLive2Dや3Dモデルを用いたものが多く、ボイロの主戦場である動画用立ち絵PSDを簡単に使える環境はありませんでした。
しかしLive2Dや3Dモデルは技術的に優れていても製作ハードルがたかく種類も少なく、それゆえ個々人に刺さるキャラモデルが2dのPSD立ち絵であることが極めて多いです。
この「ボイロはpsdが主流なのに開発されるものは3dモデルやlive2dを利用したものが多い」という矛盾を解消するために私はゆかりネットやプラグインを用いたボイロソフトと同じことができる機能を1から開発して1つのソフトにまとめることにしました。
# 準備するものの手順
1. PowerShellをインストール
2. vscodeをインストール
3. pythonをインストール。バージョンはpython3.11です。それ以外だと動かないようです。
4. node.jsをインストール。インストールされてない場合は以下からインストールしてください。
   1. まずnode.jsのバージョン管理ツールのnvm for windowsを https://github.com/coreybutler/nvm-windows/releases でダウンロードしてインストール。
   2. Powershellを開く。
   3. nvm list available を実行し、インストールできてるか確認。できていればnode.jsのバージョン一覧が表示されるので次へ。表示されなければ何かおかしいです。
   4. nvm install 20.18.0 をPowerShellで実行。
   5. node -v を実行し、v20.18.0 と表示されれば成功。次のgitによるインストールへ進んでください。

   
# gitを用いたダウンロード、インストール、初めてのアプリ起動の手順
4. gitをインストール
5. githubにアカウント登録
6. 本アプリをダウンロードして保存したいフォルダを好きな場所に作る。
7. 作ったフォルダで右クリック→「ターミナルで開く」をクリック。するとPowerShellが開きます。
8. パワーシェルに以下のコマンドを1行ずつコピペして実行します。１行コピーして、パワーシェルで右クリックするかctr+vで貼り付けできます。
   ```
   # コードをクローンする
   git clone https://github.com/megaDenryu/RefucteringVoiroStudio.git
   # クローンしたディレクトリへ移動
   cd .\RefucteringVoiroStudio\
   # pythonにvirtualenvをインストール。pythonのインストールが終わっていない場合は準備するものに戻ってpythonをインストールしてください。
   pip install virtualenv
   # CreateEnv.ps1を実行。virtualenvで仮想環境を作ってその中でライブラリのインストールを自動実行します。
   .\CreateEnv.ps1
   # 「環境構築が完了しました。run.ps1を実行するとアプリが起動できます。」とパワーシェルに表示されると成功なのでサーバーを起動します。
   .\run.ps1
   ```
9. ブラウザで http://localhost:5173/AppVoiroStudio にアクセス。
10. サーバーを終了するには ctr+Cを連打してください。途中でエラーが出るのでctr+Cを２~３回連打すると終了できます。もしくはパワーシェルを閉じてください。

# アプリの起動方法
このアプリはあなたのパソコンの中でwebサーバーを起動してブラウザで使うアプリになっています。
1. RefucteringVoiroStudioフォルダで右クリック→「ターミナルで開く」をクリック。するとPowerShellが開きます。
2. PowerShellで以下のコマンドを実行
   ```
    .\run.ps1
   ```
3. ブラウザで http://localhost:5173/AppVoiroStudio にアクセス。複数ウインドウからアクセスできます。

# ボイスロイドの立ち絵の追加方法
1. VOICEVOXキャラを使いたい場合は先にVOICEVOXを立ち上げて下さい。CevioAIとAIVOICEの場合は自動で立ち上がるので
2. すきなボイスロイドの立ち絵psdファイルをダウンロードしてきます。ファイル名に日本語でそのキャラの名前を入れてください。
3. 画面のお部屋画像の上にドラッグアンドドロップします。するとファイル名のキャラを自動で認識してpsdを読み込みます。お部屋ウインドウの上の????がキャラの名前になっていたら成功です。
4. 最初はすべての画像の表示がオフになっているので設定を押すと表示画像を切り替えられます。

# ニコ生のコメントの取得方法
コメントを取得したいニコ生のURLを、コメントを読んでもらいたいボイロのテキストボックスに貼り付けて送信してください。

# ボイスロイドの背景をグリーンバックにする方法
グリーンバックにしたいボイロのウインドウのテキストボックスに
GBmode:
と入力して送信してください。


# dockerについて
cevioとAIVOICEをdockerからだと触り方がわからなかったのでdockerでの起動は無理だと思います。


# 対応os/対応ブラウザ
今はwindowsのみ動作します。
音声認識が使える以下のブラウザを想定しています。
- Google chrome
- Microsoft Edge
